(this.webpackJsonpclasstimers=this.webpackJsonpclasstimers||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),a=n.n(o),i=n(7),r=n.n(i),s=(n(13),n(3)),l=n(2),u=function(e){return e-18e3<0?e-18e3+86400:e-18e3};var d=function(e){var t=Object(o.useState)(0),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(o.useEffect)((function(){var t=u(Math.round(Date.now()/1e3%86400)),n=e.timeSlot;if(e.isWeekend)i("Imagine Having School on the Weekends");else if(void 0!==n){var c=n.end-t,o="";c/3600>=1&&(o+="".concat(Math.floor(c/3600),"h")),c/60>=1&&(o+=" ".concat(Math.floor(Math.floor(c%3600)/60),"m")),o+=" ".concat(c%60,"s"),i(o.trim())}})),Object(c.jsx)("h1",{children:a})},f=function(e){var t=Object(o.useState)("Loading..."),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(o.useEffect)((function(){var t=e.timeSlot;if(e.isWeekend)i("Imagine Having School on the Weekends");else if(void 0!==t){var n="";if(void 0!==t.richContext){var c=localStorage.getItem("VRA_"+t.richContext);null!==c&&(n=" | ".concat(c))}if(t.mRichContext){var o=localStorage.getItem("VRA_"+t.mRichContext.from),a=localStorage.getItem("VRA_"+t.mRichContext.to);null!==o&&null!==a&&(n=" | ".concat(o," \u2192 ").concat(a))}i("".concat(t.event).concat(n))}})),Object(c.jsx)("p",{children:a})},h=n.p+"static/media/times.8ada58e8.svg";var j=function(e){var t=Object(o.useState)(null),n=Object(l.a)(t,2),i=n[0],r=n[1],u=Object(o.useState)(null),d=Object(l.a)(u,2),f=d[0],j=d[1];return Object(o.useEffect)((function(){var t=e.times;if(t){var n={};Object.keys(t).forEach((function(e){n[e]=[],t[e].forEach((function(t){if(void 0!==t.richContext){var o=localStorage.getItem("VRA_"+t.richContext),i="";null!==o&&(i=o),n[e].push(Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsxs)("p",{children:[t.event," | ID: ",t.richContext]}),Object(c.jsxs)("div",{className:"richContextContainer",children:[Object(c.jsx)("p",{className:"editorLabel",children:"Label: "}),Object(c.jsx)("input",{className:"richContextEditor",type:"text",defaultValue:i,onInput:function(e){return n=t.richContext,c=e.target.value,void localStorage.setItem("VRA_"+n,c);var n,c}})]})]},t.richContext))}}))}));var o=[];Object.keys(n).forEach((function(e){var t=function(e){switch(e){case"1":return"Monday";case"2":return"Tuesday";case"3":return"Wednesday";case"4":return"Thrusday";case"5":return"Friday";case"any":return"Every Day";default:return"idk \u2192 "+e}}(e.toString());o.push(Object(c.jsx)("h2",{children:t},t)),o=[].concat(Object(s.a)(o),Object(s.a)(n[e]))})),r(o)}var i=function(t){t.preventDefault(),"Escape"===t.key&&e.handleCloseSettings()};return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}),[]),Object(c.jsxs)("div",{className:"modal",children:[Object(c.jsx)("img",{src:h,alt:"Close!",className:"modal-close",onClick:function(){return e.handleCloseSettings()}}),Object(c.jsxs)("div",{className:"richContextEditors",children:[i," ",Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsx)("button",{onClick:function(){return function(){var e={};Object.keys(localStorage).forEach((function(t){t.match(/VRA_[0-9]*/)&&(e[t]=localStorage.getItem(t))}));var t=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"application/json"});t.href=URL.createObjectURL(n),t.download="VRA_Export.json",document.body.appendChild(t),t.click()}()},children:"Export!"}),Object(c.jsx)("input",{type:"file",accept:".json, .txt",onChange:function(e){j(e.target.files[0])},onClick:function(e){e.target.value=null}}),Object(c.jsx)("button",{onClick:function(){return function(){var e=new FileReader;e.onload=function(e){return function(){var t=e.result,n=JSON.parse(t);Object.keys(n).forEach((function(e){localStorage.setItem(e,n[e])})),window.location.reload()}}(e),e.readAsText(f)}()},children:"Submit"})]})]})]})},b=n.p+"static/media/fa-cog.349ce3a7.svg";var v=function(e){var t=Object(o.useState)(!1),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(c.jsxs)(c.Fragment,{children:[!1===a?Object(c.jsx)("img",{src:b,className:"settings-icon",alt:"Settings Icon",onClick:function(){return i(!0),void e.changeAppVisibility(!1)}}):null,a?Object(c.jsx)(j,{handleCloseSettings:function(){i(!1),e.changeAppVisibility(!0)},times:e.times}):null]})};n(14);var g=function(){var e=Object(o.useState)(new Date),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(!0),r=Object(l.a)(i,2),h=r[0],j=r[1],b=Object(o.useState)(void 0),g=Object(l.a)(b,2),O=g[0],m=g[1],p=Object(o.useState)(null),x=Object(l.a)(p,2),S=x[0],w=x[1],k=Object(o.useState)(!1),y=Object(l.a)(k,2),C=y[0],E=y[1];return Object(o.useEffect)((function(){fetch("https://api.jsonbin.io/b/5fca6e3365c249127ba338d0").then((function(e){return e.json()})).then((function(e){return w(e)}))}),[]),Object(o.useEffect)((function(){var e=setInterval((function(){return function(){a(new Date);var e=u(Math.round(Date.now()/1e3%86400)),t=(new Date).getDay().toString();if("6"!==t&&"7"!==t){if(C&&E(!1),S){var n=[].concat(Object(s.a)(S.any),Object(s.a)(S[t])),c=!1;n.forEach((function(t){t.start<=e&&t.end>=e&&(m(t),c=!0)})),c||console.log("Error: No Section Found, Please report this to Vlad: "+btoa(JSON.stringify(S)))}}else E(!0)}()}),1e3);return function(){clearInterval(e)}})),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)(v,{times:S,changeAppVisibility:j}),h?Object(c.jsxs)("p",{className:"corner-clock",children:[n.toLocaleTimeString()," ",n.toLocaleDateString()]}):null]}),h?Object(c.jsxs)("header",{className:"App-body",children:[Object(c.jsx)(d,{timeSlot:O,isWeekend:C}),Object(c.jsx)(f,{timeSlot:O,isWeekend:C})]}):null]})},O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");O?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("Localhost Message: This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):m(t,e)}))}}({onSuccess:function(){return console.log("good")},onUpdate:function(e){e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}),p(console.log)}},[[15,1,2]]]);
//# sourceMappingURL=main.296dd1ea.chunk.js.map