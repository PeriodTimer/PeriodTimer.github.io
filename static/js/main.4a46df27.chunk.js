(this.webpackJsonpclasstimers=this.webpackJsonpclasstimers||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(1),c=n.n(r),a=n(7),i=n.n(a),l=(n(13),n(3)),s=n(2),d=function(e){return e-18e3<0?e-18e3+86400:e-18e3};function u(e){return null===e?null:(e.includes("http")||(e="http://"+e),e)}function h(e){var t=null,n="",o="";if(void 0!==e.richContext){var r=localStorage.getItem("VRA_"+e.richContext);null!==r&&(o=" | ".concat(r)),t=u(localStorage.getItem("VRA_LINK_"+e.richContext))}if(e.mRichContext){var c=localStorage.getItem("VRA_"+e.mRichContext.from),a=localStorage.getItem("VRA_"+e.mRichContext.to);null!==c&&null!==a&&(o=" | ".concat(c," \u2192 ").concat(a)),t=u(localStorage.getItem("VRA_LINK_"+e.mRichContext.to))}return null!==t&&(n="\ud83d\udd17 "),{prefix:n,link:t,richContext:o}}var f=function(e){var t=Object(r.useState)(0),n=Object(s.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){var t=d(Math.round(Date.now()/1e3%86400)),n=e.timeSlot,o=e.isWeekend,r=e.time;if(o)a("Imagine Having School on the Weekends");else if(void 0!==n){if(void 0!==n.primaryFocus&&1===n.primaryFocus)return void a(r.toLocaleTimeString());var c=n.end-t,i="";c/3600>=1&&(i+="".concat(Math.floor(c/3600),"h")),c/60>=1&&(i+=" ".concat(Math.floor(Math.floor(c%3600)/60),"m")),i+=" ".concat(c%60,"s"),a(i.trim())}})),Object(o.jsx)("h1",{children:c})},v=function(e){var t=Object(r.useState)("loading..."),n=Object(s.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)("loading..."),l=Object(s.a)(i,2),d=l[0],u=l[1],f=Object(r.useState)(null),v=Object(s.a)(f,2),j=v[0],m=v[1],x=Object(r.useState)(null),b=Object(s.a)(x,2),O=b[0],g=b[1];return Object(r.useEffect)((function(){var t=e.timeSlot,n=e.nextSlot;if(e.isWeekend)a("Imagine Having School on the Weekends");else if(void 0!==t&&null!==t){var o=h(t),r=o.prefix,c=o.link,i=o.richContext;if(a("".concat(r).concat(t.event).concat(i)),m(c),null!==n&&void 0!==n){var l=h(n),s=l.prefix,d=l.link,f=l.richContext;u("".concat(s).concat(n.event).concat(f)),g(d)}else u("No Next Event"),g(null)}})),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{onClick:function(){null!==j?window.open(j):console.log("nolink")},children:c}),Object(o.jsx)("p",{style:{opacity:"50%"},onClick:function(){null!==O?window.open(O):console.log("nonextlink")},children:d})]})},j=n.p+"static/media/times.8ada58e8.svg";var m=function(){var e=Object(r.useState)(localStorage.getItem("VRA_COLOR")),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(localStorage.getItem("VRA_COLOR_MODE")),i=Object(s.a)(a,2),l=i[0],d=i[1],u=function(e){localStorage.setItem("VRA_COLOR_MODE",e),d(e)},h=function(e){return null===l&&(localStorage.setItem("VRA_COLOR_MODE","color"),d("color")),l===e};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"Background"}),Object(o.jsxs)("div",{className:"colorSelect",children:[Object(o.jsx)("input",{type:"radio",id:"color",name:"select",value:"color",onChange:function(){return u("color")},checked:h("color")}),Object(o.jsx)("label",{htmlFor:"color",children:Object(o.jsxs)("div",{className:"colorSelect",children:[Object(o.jsx)("input",{type:"color",id:"head",name:"head",value:null===n?"#282c34":n,className:"selector",onChange:function(e){var t=e.target.value;localStorage.setItem("VRA_COLOR",t),c(t)}}),Object(o.jsx)("button",{onClick:function(){localStorage.setItem("VRA_COLOR","#282c34"),c("#282c34")},children:"Reset Color"})]})})]}),Object(o.jsx)("h3",{className:"orMargin",children:"or"}),Object(o.jsxs)("div",{className:"colorSelect",children:[Object(o.jsx)("input",{type:"radio",id:"gradient",name:"select",value:"gradient",onChange:function(){return u("gradient")},checked:h("gradient")}),Object(o.jsx)("label",{htmlFor:"gradient",children:Object(o.jsx)("p",{className:"gradient gradient-text",children:"Gradient"})})]})]})};var x=function(e){var t=Object(r.useState)(null),n=Object(s.a)(t,2),c=n[0],a=n[1];return Object(o.jsxs)("div",{className:"footer",children:[Object(o.jsx)("button",{onClick:function(){var e={};Object.keys(localStorage).forEach((function(t){t.match(/VRA_.*/)&&(e[t]=localStorage.getItem(t))}));var t=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"application/json"});t.href=URL.createObjectURL(n),t.download="VRA_Export.json",document.body.appendChild(t),t.click()},children:"Export!"}),Object(o.jsx)("input",{type:"file",accept:".json, .txt",onChange:function(e){a(e.target.files[0])},onClick:function(e){e.target.value=null}}),Object(o.jsx)("button",{onClick:function(){var e=new FileReader;e.onload=function(e){return function(){var t=e.result,n=JSON.parse(t);Object.keys(n).forEach((function(e){localStorage.setItem(e,n[e])})),window.location.reload()}}(e),e.readAsText(c)},children:"Import!"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){localStorage.clear(),window.location.reload()},children:"RESET LABELS"})]})};var b=function(e){var t=function(e,t){var n;n=t,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n)||(alert("Your URL value is Invalid, please make sure it is valid before proceding"),localStorage.removeItem("VRA_LINK_"+e))};return Object(o.jsxs)(c.a.Fragment,{children:[Object(o.jsxs)("p",{children:[e.key2.event," | ID: ",e.key2.richContext]}),Object(o.jsxs)("div",{className:"richContextContainer",children:[Object(o.jsx)("p",{className:"editorLabel",children:"Label: "}),Object(o.jsx)("input",{className:"richContextEditor",type:"text",defaultValue:e.labelValue,onInput:function(t){return n=e.key2.richContext,o=t.target.value,void localStorage.setItem("VRA_"+n,o);var n,o}})]}),Object(o.jsxs)("div",{className:"richContextContainer",children:[Object(o.jsx)("p",{className:"editorLabel",children:"Link: "}),Object(o.jsx)("input",{className:"richContextEditor",type:"text",defaultValue:e.linkValue,onInput:function(t){return n=e.key2.richContext,o=t.target.value,void localStorage.setItem("VRA_LINK_"+n,o);var n,o},onBlur:function(n){return t(e.key2.richContext,n.target.value)}})]})]})};var O=function(e){var t=e.times,n=Object(r.useState)(null),c=Object(s.a)(n,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){if(t){var e={};Object.keys(t).forEach((function(n){e[n]=[],t[n].forEach((function(t){if(void 0!==t.richContext){var r=localStorage.getItem("VRA_"+t.richContext),c="";null!==r&&(c=r);var a=localStorage.getItem("VRA_LINK_"+t.richContext),i="";null!==a&&(i=a),e[n].push(Object(o.jsx)(b,{key2:t,linkValue:i,labelValue:c},t.richContext))}}))}));var n=[];Object.keys(e).forEach((function(t){var r=function(e){switch(e){case"1":return"Monday";case"2":return"Tuesday";case"3":return"Wednesday";case"4":return"Thrusday";case"5":return"Friday";case"any":return"Every Day";default:return"idk \u2192 "+e}}(t.toString());n.push(Object(o.jsx)("h2",{children:r},r)),n=[].concat(Object(l.a)(n),Object(l.a)(e[t]))})),i(n)}}),[]),Object(o.jsx)(o.Fragment,{children:a})};var g=function(e){return Object(r.useEffect)((function(){var t=function(t){"Escape"===t.key&&(t.preventDefault(),e.handleCloseSettings())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[]),Object(o.jsxs)("div",{className:"modal",children:[Object(o.jsx)("img",{src:j,alt:"Close!",className:"modal-close",onClick:function(){return e.handleCloseSettings()}}),Object(o.jsxs)("div",{className:"richContextEditors",children:[Object(o.jsx)("h2",{className:"header",children:"Lables"}),Object(o.jsx)(O,{times:e.times}),Object(o.jsx)(x,{})]}),Object(o.jsx)("div",{children:Object(o.jsx)(m,{})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("h2",{children:"Hello"}),Object(o.jsx)("p",{children:"Period Timers was coded by Vlad Bondar (25bondarv@mtps.us)."}),Object(o.jsx)("p",{children:"Please send Bug Reports and Suggestions to me on Google Hangouts (Vladimir Bondar)"})]})]})},C=n.p+"static/media/fa-cog.349ce3a7.svg";var p=function(e){var t=Object(r.useState)(!1),n=Object(s.a)(t,2),c=n[0],a=n[1];return Object(o.jsxs)(o.Fragment,{children:[!1===c?Object(o.jsx)("img",{src:C,className:"settings-icon",alt:"Settings Icon",onClick:function(){return a(!0),void e.changeAppVisibility(!1)}}):null,c?Object(o.jsx)(g,{handleCloseSettings:function(){a(!1),e.changeAppVisibility(!0)},times:e.times}):null]})},S={1:[{start:46500,end:47700,event:"Period 1 Afterschool",richContext:1},{start:47700,end:48e3,event:"Period 1 \u2192 2 Afterschool",mRichContext:{from:1,to:2}},{start:48e3,end:49200,event:"Period 2 Afterschool",richContext:2},{start:49200,end:49500,event:"Period 2 \u2192 3 Afterschool",mRichContext:{from:2,to:3}},{start:49500,end:50700,event:"Period 3 Afterschool",richContext:3},{start:50700,end:51e3,event:"Period 3 \u2192 4 Afterschool",mRichContext:{from:3,to:4}},{start:51e3,end:52200,event:"Period 4 Afterschool",richContext:4},{start:52200,end:52500,event:"Period 4 \u2192 Extra Help Afterschool",mRichContext:{from:4,to:0}},{start:52500,end:53700,event:"Extra Help Afterschool"},{start:53700,end:86400,event:"After School",primaryFocus:1}],2:[{start:46500,end:47700,event:"Period 1 Afterschool",richContext:5},{start:47700,end:48e3,event:"Period 1 \u2192 2 Afterschool",mRichContext:{from:5,to:6}},{start:48e3,end:49200,event:"Period 2 Afterschool",richContext:6},{start:49200,end:49500,event:"Period 2 \u2192 3 Afterschool",mRichContext:{from:6,to:7}},{start:49500,end:50700,event:"Period 3 Afterschool",richContext:7},{start:50700,end:51e3,event:"Period 3 \u2192 4 Afterschool",mRichContext:{from:7,to:8}},{start:51e3,end:52200,event:"Period 4 Afterschool",richContext:8},{start:52200,end:52500,event:"Period 4 \u2192 Extra Help Afterschool",mRichContext:{from:8,to:0}},{start:52500,end:53700,event:"Extra Help Afterschool"},{start:53700,end:86400,event:"After School",primaryFocus:1}],3:[{start:46500,end:50100,event:"Extra Help Science, Math, WL, Steam",richContext:9},{start:51e3,end:53700,event:"Extra Help LA, SS, FPA, PE/H",richContext:10},{start:53700,end:86400,event:"After School",primaryFocus:1}],4:[{start:46500,end:47700,event:"Period 1 Afterschool",richContext:11},{start:47700,end:48e3,event:"Period 1 \u2192 2 Afterschool",mRichContext:{from:11,to:12}},{start:48e3,end:49200,event:"Period 2 Afterschool",richContext:12},{start:49200,end:49500,event:"Period 2 \u2192 3 Afterschool",mRichContext:{from:12,to:13}},{start:49500,end:50700,event:"Period 3 Afterschool",richContext:13},{start:50700,end:51e3,event:"Period 3 \u2192 4 Afterschool",mRichContext:{from:12,to:14}},{start:51e3,end:52200,event:"Period 4 Afterschool",richContext:14},{start:52200,end:52500,event:"Period 4 \u2192 Extra Help Afterschool",mRichContext:{from:14,to:0}},{start:52500,end:53700,event:"Extra Help Afterschool"},{start:53700,end:86400,event:"After School",primaryFocus:1}],5:[{start:46500,end:47700,event:"Period 1 Afterschool",richContext:15},{start:47700,end:48e3,event:"Period 1 \u2192 2 Afterschool",mRichContext:{from:15,to:16}},{start:48e3,end:49200,event:"Period 2 Afterschool",richContext:16},{start:49200,end:49500,event:"Period 2 \u2192 3 Afterschool",mRichContext:{from:16,to:17}},{start:49500,end:50700,event:"Period 3 Afterschool",richContext:17},{start:50700,end:51e3,event:"Period 3 \u2192 4 Afterschool",mRichContext:{from:17,to:18}},{start:51e3,end:52200,event:"Period 4 Afterschool",richContext:18},{start:52200,end:52500,event:"Period 4 \u2192 Extra Help Afterschool",mRichContext:{from:18,to:0}},{start:52500,end:53700,event:"Extra Help Afterschool"},{start:53700,end:86400,event:"After School",primaryFocus:1}],any:[{start:0,end:27300,event:"Before School"},{start:27300,end:29400,event:"Period 1",richContext:19},{start:29400,end:29700,event:"Period 1 \u2192 2",mRichContext:{from:19,to:20}},{start:29700,end:31380,event:"Period 2",richContext:20},{start:31380,end:31680,event:"Period 2 \u2192 3",mRichContext:{from:20,to:21}},{start:31680,end:33360,event:"Period 3",richContext:21},{start:33360,end:33660,event:"Period 3 \u2192 4",mRichContext:{from:21,to:22}},{start:33660,end:35340,event:"Period 4",richContext:22},{start:35340,end:35640,event:"Period 4 \u2192 5",mRichContext:{from:22,to:23}},{start:35640,end:37320,event:"Period 5",richContext:23},{start:37320,end:37620,event:"Period 5 \u2192 6",mRichContext:{from:23,to:24}},{start:37620,end:39300,event:"Period 6",richContext:24},{start:39300,end:39600,event:"Period 6 \u2192 7",mRichContext:{from:24,to:25}},{start:39600,end:41280,event:"Period 7",richContext:25},{start:41280,end:41580,event:"Period 7 \u2192 8",mRichContext:{from:25,to:26}},{start:41580,end:43260,event:"Period 8",richContext:26},{start:43260,end:46500,event:"School \u2192 Home"}]};n(14);var A=function(){var e=Object(r.useState)(new Date),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),i=Object(s.a)(a,2),u=i[0],h=i[1],j=Object(r.useState)(null),m=Object(s.a)(j,2),x=m[0],b=m[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),C=g[0],A=g[1],R=Object(r.useState)(void 0),k=Object(s.a)(R,2),y=k[0],P=k[1],w=Object(r.useState)(void 0),E=Object(s.a)(w,2),I=E[0],L=E[1],N=Object(r.useState)(null),_=Object(s.a)(N,2),V=_[0],W=_[1],F=Object(r.useState)(null),H=Object(s.a)(F,2),D=H[0],M=H[1],B=function(){var e=localStorage.getItem("VRA_COLOR_MODE");if(null===e||"color"===e){var t=localStorage.getItem("VRA_COLOR");if(null===t&&"#282c34"!==(null===V||void 0===V?void 0:V.backgroundColor))return W({backgroundColor:"#282c34"}),void M("");null!==t&&(null===V||void 0===V?void 0:V.backgroundColor)!==t&&(W({backgroundColor:localStorage.getItem("VRA_COLOR")}),M(""))}else"gradient"===e?(W({}),M("gradient")):alert("Color Set Impossibly, Please Reset your Config")};return Object(r.useEffect)((function(){B(),fetch("https://api.jsonbin.io/b/5fca6e3365c249127ba338d0").then((function(e){return e.json()})).then((function(e){return b(e)})).catch((function(){console.log("Probably Offline, PWA to the rescure"),b(S)}))}),[]),Object(r.useEffect)((function(){var e=setInterval((function(){return function(){c(new Date),B();var e=d(Math.round(Date.now()/1e3%86400)),t=(new Date).getDay().toString();if("6"!==t&&"7"!==t){if(C&&A(!1),x){var n=[].concat(Object(l.a)(x.any),Object(l.a)(x[t])),o=!1;n.forEach((function(t,r){t.start<=e&&t.end>=e&&(P(t),r!==n.length-1?L(n[r+1]):L(null),o=!0)})),o||P("Bug Encountered: Please send time and date to Vlad")}}else A(!0)}()}),1e3);return function(){clearInterval(e)}})),Object(o.jsxs)("div",{style:V,className:D,children:[Object(o.jsxs)("header",{className:"App-header",children:[Object(o.jsx)(p,{times:x,changeAppVisibility:h}),u&&1!==(null===y||void 0===y?void 0:y.primaryFocus)?Object(o.jsxs)("p",{className:"corner-clock",children:[n.toLocaleTimeString()," ",n.toLocaleDateString()]}):null,u&&1===(null===y||void 0===y?void 0:y.primaryFocus)?Object(o.jsx)("p",{className:"corner-clock",children:n.toLocaleDateString()}):null]}),u?Object(o.jsxs)("header",{className:"App-body",children:[Object(o.jsx)(f,{timeSlot:y,isWeekend:C,time:n}),Object(o.jsx)(v,{timeSlot:y,nextSlot:I,isWeekend:C})]}):null]})},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("Localhost Message: This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):k(t,e)}))}}({onSuccess:function(){return console.log("SW Registered!")},onUpdate:function(e){e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}})}},[[15,1,2]]]);
//# sourceMappingURL=main.4a46df27.chunk.js.map